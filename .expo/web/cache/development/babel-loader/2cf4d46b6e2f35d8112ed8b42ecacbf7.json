{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState, useEffect } from \"react\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport KeyboardAvoidingView from \"react-native-web/dist/exports/KeyboardAvoidingView\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Task from \"../components/Task\";\nimport { FlatList } from \"native-base\";\nimport { API } from \"../config/api\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function Todos() {\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      tasks = _useState2[0],\n      setTasks = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      task = _useState4[0],\n      setTask = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      isLoading = _useState6[0],\n      setIsLoading = _useState6[1];\n\n  var childToParent = function childToParent() {\n    getTasks();\n    console.log(\"KE TRIGGER\");\n  };\n\n  useEffect(function () {\n    getTasks();\n  }, []);\n\n  var getTasks = function _callee() {\n    var _response;\n\n    return _regeneratorRuntime.async(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(API.get(\"/todos\"));\n\n          case 3:\n            _response = _context.sent;\n            console.log(_response.data);\n            setTasks(_response.data);\n            _context.next = 11;\n            break;\n\n          case 8:\n            _context.prev = 8;\n            _context.t0 = _context[\"catch\"](0);\n            console.log(_context.t0);\n\n          case 11:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[0, 8]], Promise);\n  };\n\n  function _renderTask(_ref) {\n    var item = _ref.item;\n    return _jsx(Task, {\n      text: item.notes,\n      id: item._id,\n      childToParent: childToParent\n    });\n  }\n\n  var handleAddTask = function _callee2() {\n    var data;\n    return _regeneratorRuntime.async(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            if (!(task.length !== 0)) {\n              _context2.next = 4;\n              break;\n            }\n\n            try {\n              data = {\n                notes: task\n              };\n              data = JSON.stringify(data);\n              console.log(data);\n              console.log(response);\n              getTasks();\n              setTask(\"\");\n            } catch (error) {\n              console.log(error);\n            }\n\n            _context2.next = 5;\n            break;\n\n          case 4:\n            return _context2.abrupt(\"return\", Alert.alert(\"Alert Title\", \"My Alert Msg\", [{\n              text: \"Ask me later\",\n              onPress: function onPress() {\n                return console.log(\"Ask me later pressed\");\n              }\n            }, {\n              text: \"Cancel\",\n              onPress: function onPress() {\n                return console.log(\"Cancel Pressed\");\n              },\n              style: \"cancel\"\n            }, {\n              text: \"OK\",\n              onPress: function onPress() {\n                return console.log(\"OK Pressed\");\n              }\n            }]));\n\n          case 5:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsxs(View, {\n      style: styles.tasksWrapper,\n      children: [_jsx(Text, {\n        style: styles.sectionTitle,\n        children: \"Today's tasks\"\n      }), _jsx(View, {\n        style: styles.items,\n        children: _jsx(FlatList, {\n          data: tasks,\n          renderItem: _renderTask,\n          keyExtractor: function keyExtractor(item) {\n            return item._id;\n          },\n          refreshing: isLoading,\n          onRefresh: getTasks\n        })\n      })]\n    }), _jsxs(KeyboardAvoidingView, {\n      behavior: Platform.OS === \"ios\" ? \"padding\" : \"height\",\n      style: styles.writeTaskWrapper,\n      children: [_jsx(TextInput, {\n        style: styles.input,\n        placeholder: \"Write a task\",\n        value: task,\n        onChangeText: function onChangeText(text) {\n          return setTask(text);\n        }\n      }), _jsx(TouchableOpacity, {\n        onPress: function onPress() {\n          return handleAddTask();\n        },\n        children: _jsx(View, {\n          style: styles.addWrapper,\n          children: _jsx(Text, {\n            style: styles.addText,\n            children: \"+\"\n          })\n        })\n      })]\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"#FFA0A0\"\n  },\n  tasksWrapper: {\n    paddingHorizontal: 24,\n    paddingTop: 80\n  },\n  sectionTitle: {\n    fontSize: 24,\n    fontWeight: \"bold\"\n  },\n  items: {\n    marginTop: 16\n  },\n  writeTaskWrapper: {\n    position: \"absolute\",\n    bottom: 20,\n    width: \"100%\",\n    flexDirection: \"row\",\n    justifyContent: \"space-around\",\n    alignItems: \"center\"\n  },\n  input: {\n    padding: 15,\n    backgroundColor: \"#fff\",\n    borderRadius: 60,\n    borderColor: \"#C0C0C0\",\n    borderWidth: 1,\n    width: \"70%\"\n  },\n  addWrapper: {\n    width: 55,\n    height: 55,\n    backgroundColor: \"#fff\",\n    borderRadius: 60,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    borderColor: \"#C0C0C0\",\n    borderWidth: 1\n  },\n  addText: {\n    fontSize: 32,\n    fontWeight: \"bold\"\n  }\n});","map":{"version":3,"names":["React","useState","useEffect","Task","FlatList","API","Todos","tasks","setTasks","task","setTask","isLoading","setIsLoading","childToParent","getTasks","console","log","get","response","data","_renderTask","item","notes","_id","handleAddTask","length","JSON","stringify","error","Alert","alert","text","onPress","style","styles","container","tasksWrapper","sectionTitle","items","Platform","OS","writeTaskWrapper","input","addWrapper","addText","StyleSheet","create","flex","backgroundColor","paddingHorizontal","paddingTop","fontSize","fontWeight","marginTop","position","bottom","width","flexDirection","justifyContent","alignItems","padding","borderRadius","borderColor","borderWidth","height"],"sources":["E:/DATA DATA PELATIHAN CODING 2022/DUMBSWAYS/Stage 2 Batch 35/WEEK 4/3. ADVANCE REACT NATIVE/TUGAS/Todo-List-and-Calculator-React-Native/src/screens/Todos.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { Alert } from \"react-native\";\r\nimport { View, Text, StyleSheet, Platform, KeyboardAvoidingView, TextInput, TouchableOpacity } from \"react-native\";\r\n\r\nimport Task from \"../components/Task\";\r\nimport { FlatList } from \"native-base\";\r\nimport { API } from \"../config/api\";\r\n\r\nexport default function Todos() {\r\n  const [tasks, setTasks] = useState([]);\r\n  const [task, setTask] = useState(\"\");\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  const childToParent = () => {\r\n    getTasks();\r\n    console.log(\"KE TRIGGER\");\r\n  };\r\n\r\n  useEffect(() => {\r\n    getTasks();\r\n  }, []);\r\n\r\n  const getTasks = async () => {\r\n    try {\r\n      const response = await API.get(\"/todos\");\r\n      console.log(response.data);\r\n      setTasks(response.data);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  function _renderTask({ item }) {\r\n    return <Task text={item.notes} id={item._id} childToParent={childToParent} />;\r\n  }\r\n\r\n  const handleAddTask = async () => {\r\n    if (task.length !== 0) {\r\n      try {\r\n        let data = {\r\n          notes: task,\r\n        };\r\n        data = JSON.stringify(data);\r\n        console.log(data);\r\n        // const response = await axios.post(\"\", data);\r\n        console.log(response);\r\n        getTasks();\r\n        setTask(\"\");\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    } else {\r\n      return Alert.alert(\"Alert Title\", \"My Alert Msg\", [\r\n        {\r\n          text: \"Ask me later\",\r\n          onPress: () => console.log(\"Ask me later pressed\"),\r\n        },\r\n        {\r\n          text: \"Cancel\",\r\n          onPress: () => console.log(\"Cancel Pressed\"),\r\n          style: \"cancel\",\r\n        },\r\n        { text: \"OK\", onPress: () => console.log(\"OK Pressed\") },\r\n      ]);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      {/* Today Task */}\r\n      <View style={styles.tasksWrapper}>\r\n        <Text style={styles.sectionTitle}>Today's tasks</Text>\r\n        {/* Task */}\r\n        <View style={styles.items}>\r\n          <FlatList data={tasks} renderItem={_renderTask} keyExtractor={(item) => item._id} refreshing={isLoading} onRefresh={getTasks} />\r\n        </View>\r\n      </View>\r\n      <KeyboardAvoidingView behavior={Platform.OS === \"ios\" ? \"padding\" : \"height\"} style={styles.writeTaskWrapper}>\r\n        <TextInput style={styles.input} placeholder={\"Write a task\"} value={task} onChangeText={(text) => setTask(text)} />\r\n\r\n        <TouchableOpacity onPress={() => handleAddTask()}>\r\n          <View style={styles.addWrapper}>\r\n            <Text style={styles.addText}>+</Text>\r\n          </View>\r\n        </TouchableOpacity>\r\n      </KeyboardAvoidingView>\r\n    </View>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: \"#FFA0A0\",\r\n  },\r\n  tasksWrapper: {\r\n    paddingHorizontal: 24,\r\n    paddingTop: 80,\r\n  },\r\n  sectionTitle: {\r\n    fontSize: 24,\r\n    fontWeight: \"bold\",\r\n  },\r\n  items: {\r\n    marginTop: 16,\r\n  },\r\n  writeTaskWrapper: {\r\n    position: \"absolute\",\r\n    bottom: 20,\r\n    width: \"100%\",\r\n    flexDirection: \"row\",\r\n    justifyContent: \"space-around\",\r\n    alignItems: \"center\",\r\n  },\r\n  input: {\r\n    padding: 15,\r\n    backgroundColor: \"#fff\",\r\n    borderRadius: 60,\r\n    borderColor: \"#C0C0C0\",\r\n    borderWidth: 1,\r\n    width: \"70%\",\r\n  },\r\n  addWrapper: {\r\n    width: 55,\r\n    height: 55,\r\n    backgroundColor: \"#fff\",\r\n    borderRadius: 60,\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    borderColor: \"#C0C0C0\",\r\n    borderWidth: 1,\r\n  },\r\n  addText: {\r\n    fontSize: 32,\r\n    fontWeight: \"bold\",\r\n  },\r\n});\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}